{
  "_meta": {
    "description": "Single source of truth for ALL QBO credentials. Claude reads this file to authenticate.",
    "protocol": "When Claude needs QBO access: (1) Ask user for email, (2) Look up here, (3) Auth automatically, (4) If fail, ask user and UPDATE this file",
    "last_updated": "2026-02-13",
    "updated_by": "Claude Code session"
  },

  "oauth": {
    "client_id": "ABBCXphnRbl3SISytJ1KBYhqqasfE3HGUd9FBn9SISUOQdiE6V",
    "client_secret": "2fMdCRacJa6EyrJNu8SjZPtVHdeRqZbxHvZE4vrn",
    "redirect_uri_mcp": "http://localhost:8000/callback",
    "redirect_uri_oauth_manager": "http://localhost:3000/callback",
    "scopes": ["com.intuit.quickbooks.accounting"],
    "token_url": "https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer",
    "auth_url": "https://appcenter.intuit.com/connect/oauth2"
  },

  "accounts": {
    "quickbooks-test-account@tbxofficial.com": {
      "label": "CONSTRUCTION SALES (Keystone)",
      "shortcode": "construction",
      "password": "TestBox123!",
      "mfa_type": "totp",
      "totp_secret": "23CIWY3QYCOXJRKZYG6YKR7HUYVPLPEL",
      "environment": "production",
      "base_url": "https://qbo.intuit.com",
      "companies": [
        {"name": "Keystone Construction (Par.)", "cid": "9341454156620895", "type": "parent", "priority": "P0"},
        {"name": "Keystone Terra (Ch.)", "cid": "9341454156620204", "type": "child", "priority": "P0"},
        {"name": "Keystone BlueCraft (Ch.)", "cid": "9341454156621045", "type": "child", "priority": "P0"},
        {"name": "Keystone Ironcraft", "cid": "9341454156643813", "type": "child", "priority": "P1"},
        {"name": "Keystone Stonecraft", "cid": "9341454156640324", "type": "child", "priority": "P1"},
        {"name": "Keystone Canopy", "cid": "9341454156634620", "type": "child", "priority": "P1"},
        {"name": "Keystone Ecocraft", "cid": "9341454156644492", "type": "child", "priority": "P1"},
        {"name": "Keystone Volt", "cid": "9341454156629550", "type": "child", "priority": "P1"}
      ],
      "used_for": ["Winter Release FY26", "UAT FY26", "Data Ingestion", "Evidence Collection"],
      "last_successful_login": "2026-02-12",
      "notes": "Main account for IES Construction demos. 8 entities."
    },

    "quickbooks-test-account-qsp@tbxofficial.com": {
      "label": "CONSTRUCTION EVENTS / QSP",
      "shortcode": "qsp",
      "password": "TestBox123!",
      "mfa_type": "totp",
      "totp_secret": "J4NUWKE7OZTIBOXI3MP42Z4QVBDDNITH",
      "totp_secret_alt": "23CIWY3QYCOXJRKZYG6YKR7HUYVPLPEL",
      "totp_note": "J4NUWKE7... confirmed working in QSP session 2026-02-13. Alt may also work.",
      "environment": "production",
      "base_url": "https://qbo.intuit.com",
      "companies": [
        {"name": "Keystone Construction (Event)", "cid": "9341454796804202", "type": "parent", "priority": "P0"},
        {"name": "Keystone Terra (Event)", "cid": "9341454842738078", "type": "child", "priority": "P0"},
        {"name": "Keystone BlueCraft (Event)", "cid": "9341454842756096", "type": "child", "priority": "P0"}
      ],
      "used_for": ["QSP Evidence", "Construction Events demos"],
      "last_successful_login": "2026-02-13",
      "notes": "3 entities. Used for QSP evidence session."
    },

    "quickbooks-tco-tbxdemo@tbxofficial.com": {
      "label": "TCO (Traction Control Outfitters)",
      "shortcode": "tco",
      "password": "TestBox!23",
      "mfa_type": "totp",
      "totp_secret": "RP4MFT45ZY5EYGMRIPEANJA6YFKHV5O7",
      "environment": "production",
      "base_url": "https://qbo.intuit.com",
      "companies": [
        {"name": "Traction Control Outfitters (Parent)", "cid": "9341455130122367", "type": "parent", "priority": "P0"},
        {"name": "Vista Consolidada", "cid": "9341455649090852", "type": "consolidated", "priority": "P0"},
        {"name": "Apex Tire & Auto Retail", "cid": "9341455130166501", "type": "child", "priority": "P0"},
        {"name": "Global Tread Distributors", "cid": "9341455130196737", "type": "child", "priority": "P0"},
        {"name": "RoadReady Service Solutions", "cid": "9341455130182073", "type": "child", "priority": "P0", "cid_alt": "9341455130170608"}
      ],
      "used_for": ["TCO multi-entity demos", "Fall Release", "QBO Advanced simulation"],
      "last_successful_login": "2025-12-01",
      "notes": "Flagship QBO Advanced simulation. Parent + 3 children + consolidated view."
    },

    "quickbooks-testuser-tco-tbxdemo@tbxofficial.com": {
      "label": "TCO TESTUSER (may be same as TCO)",
      "shortcode": "tco-testuser",
      "password": "TestBox!23",
      "mfa_type": "totp",
      "totp_secret": "RP4MFT45ZY5EYGMRIPEANJA6YFKHV5O7",
      "environment": "production",
      "base_url": "https://qbo.intuit.com",
      "companies": [],
      "used_for": ["TCO demos"],
      "last_successful_login": null,
      "notes": "Listed in CLAUDE.md as separate from TCO DEMO. Verify if same account."
    },

    "quickbooks-tbx-product-team-test@tbxofficial.com": {
      "label": "CONSTRUCTION BI / PRODUCT TEAM",
      "shortcode": "product",
      "password": "TBD",
      "mfa_type": "unknown",
      "totp_secret": "TBD",
      "environment": "production",
      "base_url": "https://qbo.intuit.com",
      "companies": [
        {"name": "Keystone Construction (BI)", "cid": "9341455531293719", "type": "parent", "priority": ""},
        {"name": "Keystone Terra (BI)", "cid": "9341455531294375", "type": "child", "priority": ""},
        {"name": "Keystone BlueCraft (BI)", "cid": "9341455531274694", "type": "child", "priority": ""}
      ],
      "used_for": ["Product team BI testing"],
      "last_successful_login": null,
      "notes": "Credentials TBD - confirm with team before use."
    }
  },

  "tokens": {
    "_note": "OAuth refresh tokens for API access. Auto-updated by auth flow.",
    "9341453454021291": {
      "label": "Unknown realm from .env (check which company)",
      "refresh_token": "RT1-128-H0-1772896844tb96jdd76tx60xhzon0j",
      "source": "quickbooks-online-mcp-server/.env",
      "status": "possibly_expired",
      "last_updated": null
    }
  },

  "api_endpoints": {
    "base": "https://quickbooks.api.intuit.com/v3/company/{realmId}",
    "entity_switch": "https://qbo.intuit.com/app/multiEntitySwitchCompany?companyId={cid}",
    "login": "https://accounts.intuit.com/",
    "dashboard": "https://qbo.intuit.com/app/homepage"
  },

  "auth_protocol": {
    "step_1": "Ask user: 'Qual email de acesso?'",
    "step_2": "Lookup email in accounts above",
    "step_3": "If found: use stored password + TOTP to login via Playwright OR use OAuth for API",
    "step_4": "If login fails: ask user for updated credentials",
    "step_5": "If user provides different credentials: UPDATE this file immediately",
    "step_6": "Log last_successful_login date on success",
    "fallback": "If email not found: ask user for full credentials (password, TOTP, companies) and ADD new entry"
  }
}
